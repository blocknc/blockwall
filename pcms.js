(function(e){function t(){return"ABCKLOWXabcdefghijklmnopqrstuvwxyz".charAt(Math.floor(34*Math.random()))}function o(e){if(document.body.classList.contains("animations-disabled")||"true"===e.dataset.hovering||"true"!==e.dataset.useBlocks)return;e.dataset.hovering="true";const o=e.dataset.originalText||e.textContent,i=e.querySelectorAll(".char-box");!function n(a){if(a>=i.length)return void(e.dataset.hovering="false");const s=i[a],r=s.querySelector(".char"),c=o[a];let l=s.querySelector(".bg-box");l||(l=document.createElement("span"),l.className="bg-box",s.insertBefore(l,r)),l.style.opacity="1";const u=Date.now();requestAnimationFrame((function e(){const o=Date.now()-u;Math.min(o/75,1)<1?(r.textContent=t(),requestAnimationFrame(e)):(r.innerHTML=" "===c?"&nbsp;":c,l.style.opacity="0",n(a+1))}))}(0)}e.PortfolioDecode={decodeEffect:function(e,t,o,i=!1,n="forward"){const a=e.dataset.originalText||e.textContent;e.dataset.originalText=a,e.textContent="";const s=a.split("").map((t=>{const o=document.createElement("span");o.className="char-box";const i=document.createElement("span");return i.className="char",i.innerHTML=" "===t?"&nbsp;":t,o.appendChild(i),e.appendChild(o),o}));e.style.display="inline-block",e.style.opacity="0",e.style.visibility="hidden";const r=Date.now();requestAnimationFrame((function c(){const l=Date.now()-r,u=Math.min(l/o,1);u>0&&(e.style.opacity="1",e.style.visibility="visible"),s.forEach(((e,r)=>{const c="reverse"===n?s.length-1-r:r,u=o*(c/a.length),d=u+o/a.length,m=e.querySelector(".char");if(l<u?m.innerHTML="&nbsp;":l<d?m.textContent=t():m.innerHTML=" "===a[c]?"&nbsp;":a[c],i){let t=e.querySelector(".bg-box");t||(t=document.createElement("span"),t.className="bg-box",e.insertBefore(t,m)),t.style.opacity=l<d?"1":"0"}})),u<1&&requestAnimationFrame(c)}))},randomCharacterDate:function(){return"/()?[]0123456789".charAt(Math.floor(16*Math.random()))},randomCharacterTag:t,hoverEffect:o,addHoverAndClickEffect:function(t){t instanceof Element&&(t.addEventListener("mouseenter",(()=>{t.querySelectorAll('[data-use-blocks="true"]').forEach((e=>o(e))),t.classList.add("gradient-hover")})),t.addEventListener("mouseleave",(()=>{t.classList.remove("gradient-hover")})),("ontouchstart"in e||navigator.maxTouchPoints>0)&&t.addEventListener("click",(()=>{t.querySelectorAll('[data-use-blocks="true"]').forEach((e=>o(e))),t.classList.add("gradient-click")})))},initializeFooterButton:function(){const e=document.querySelector("footer button");e&&(e.addEventListener("mouseenter",(()=>{o(e)})),e.addEventListener("click",(()=>{o(e)})))}}})(window),(()=>{"use strict";function e(e){const t=e.currentTarget,i=t.querySelector(".cms_item_img");i&&(gsap.to(i,{duration:.5,ease:"power2.out"}),t.addEventListener("mousemove",o))}function t(e){const t=e.currentTarget,n=t.querySelector(".cms_item_img");n&&(gsap.to(n,{duration:.5,ease:"power2.out",transform:i(n)}),t.removeEventListener("mousemove",o))}function o(e){const t=e.currentTarget,o=t.querySelector(".cms_item_img");if(o){const i=t.getBoundingClientRect(),n=(e.clientX-i.left)/i.width,a=(e.clientY-i.top)/i.height,s=4*n-6,r=-6*a+8,c=2*a+2,l=4*n-6;gsap.to(o,{duration:.3,ease:"power2.out",y:l,rotationX:r,rotationY:s,rotationZ:c})}}function i(e){return window.getComputedStyle(e).transform}function n(e=null){document.querySelectorAll(".portfolio_cms_item").forEach((t=>{if(t!==e&&t.classList.contains("active")){console.log(`Schließe aktives Element: ${t}`),t.classList.remove("active"),t.classList.remove("hover-top","hover-bottom");const e=t.querySelector(".cms_item_expand"),o=t.querySelector('[data-img-expand="true"]'),i=t.querySelectorAll(".item_inner_left_wrap > *"),n=gsap.timeline();e&&n.to(e,{maxHeight:0,duration:.5}),o&&n.to(o,{clipPath:"inset(0 0 100% 0)",opacity:0,scale:.6,duration:.4},0),i.length>0&&n.to(i,{y:-10,opacity:0,duration:.4,stagger:.1},0),n.eventCallback("onComplete",(()=>{console.log("Schließen abgeschlossen, Styles zurücksetzen"),e&&(e.style.maxHeight=""),o&&(o.style.height=""),i.forEach((e=>e.style=""))}))}}))}window.PortfolioInteraction={animateCollectionItems:function(){const e=document.querySelectorAll(".portfolio_cms_item"),t=.075;e.forEach(((e,o)=>{setTimeout((()=>{e.classList.remove("cms-item-hidden"),e.classList.remove("cms-item-initial")}),o*t*1e3);const i=e.querySelector(".layout_line_wrap"),n=e.querySelector(".item_line_base"),a=e.querySelector(".item_line_inner");n&&a&&(gsap.set(n,{opacity:1}),gsap.set(a,{opacity:1}));const s=e.querySelectorAll(".cms_item_text.is-date"),r=e.querySelectorAll(".cms_item_text.is-text");if(!i||!n||!a)return;let c=gsap.timeline({delay:o*t,defaults:{duration:.75,ease:"power2.out"},onComplete:()=>{e.classList.remove("cms-item-initial")}});s.forEach((e=>{c.add((()=>{PortfolioDecode.decodeEffect(e,PortfolioDecode.randomCharacterDate,1700)}),0)})),r.forEach((e=>{c.add((()=>{PortfolioDecode.decodeEffect(e,PortfolioDecode.randomCharacterTag,1700)}),0)})),c.fromTo(i,{xPercent:-100},{xPercent:0},0),c.fromTo(n,{xPercent:-100,opacity:1},{xPercent:0,opacity:1},0).to(n,{xPercent:0,opacity:1},"+1.5"),c.fromTo(a,{xPercent:0,opacity:1},{xPercent:150,opacity:1},0).to(a,{xPercent:-100,opacity:0},">0")}));const o=1500*(1.8+t*e.length);setTimeout((()=>{document.body.classList.remove("animations-disabled")}),o)},initializeItemControls:function(){const o=document.querySelectorAll(".portfolio_cms_item"),i=document.querySelector(".list_item_wrap");function a(e,t){e.classList.contains("active")&&t&&(t.style.maxHeight=t.scrollHeight+"px")}function s(e){const t=e.currentTarget;if(document.body.classList.contains("animations-disabled"))e.preventDefault();else if(!e.target.closest(".layout_footer_social")&&!t.classList.contains("active")){n(t),t.classList.add("active");const e=t.querySelector(".cms_item_expand"),o=t.querySelector('[data-img-expand="true"]'),i=t.querySelectorAll(".item_inner_left_wrap > *"),a=gsap.timeline();e&&a.to(e,{maxHeight:e.scrollHeight+"px",duration:.5,ease:"power2.out"}),o&&a.to(o,{clipPath:"inset(0 0 0% 0)",opacity:1,duration:.5,ease:"power2.out",scale:1},"<"),i.length>0&&a.fromTo(i,{y:-10,opacity:0},{y:0,opacity:1,duration:.4,stagger:.1},"-=0.5"),t.classList.remove("leave-top","leave-bottom")}}function r(e){const t=e.currentTarget;if(!document.body.classList.contains("animations-disabled")&&!t.classList.contains("active")){const o=t.getBoundingClientRect();e.clientY-o.top<o.height/2?(t.classList.add("hover-top"),t.classList.remove("hover-bottom","leave-top","leave-bottom")):(t.classList.add("hover-bottom"),t.classList.remove("hover-top","leave-top","leave-bottom"))}}function c(e){const t=e.currentTarget;if(!document.body.classList.contains("animations-disabled")&&!t.classList.contains("active")){const o=t.getBoundingClientRect();e.clientY-o.top<o.height/2?(t.classList.add("leave-top"),t.classList.remove("hover-top","hover-bottom","leave-bottom")):(t.classList.add("leave-bottom"),t.classList.remove("hover-top","hover-bottom","leave-top")),setTimeout((()=>{t.classList.remove("leave-top","leave-bottom")}),450)}}n(),o.forEach((o=>{const i=o.querySelector(".cms_item_expand");o.removeEventListener("click",s),o.removeEventListener("mouseenter",r),o.removeEventListener("mouseleave",c),o.addEventListener("click",s),o.addEventListener("mouseenter",r),o.addEventListener("mouseleave",c),i&&(i.addEventListener("mouseenter",e),i.addEventListener("mouseleave",t)),a(o,i),window.addEventListener("resize",(()=>a(o,i)))})),i&&i.addEventListener("mouseleave",(function(e){n()})),o.forEach((o=>{o.removeEventListener("click",s),o.removeEventListener("mouseenter",r),o.removeEventListener("mouseleave",c),o.addEventListener("click",s),o.addEventListener("mouseenter",r),o.addEventListener("mouseleave",c);const i=o.querySelector(".cms_item_expand");i&&(i.addEventListener("mouseenter",e),i.addEventListener("mouseleave",t)),a(o,i),window.addEventListener("resize",(()=>a(o,i)))})),i&&i.addEventListener("mouseleave",(function(e){n()}))}}})(),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".layout_portfolio_filter").forEach((function(e){let t=e.querySelector(".filter_head_wrap"),o=e.querySelector(".portfolio_filter_menu"),i=e.querySelector(".filter_icon_contain"),n=e.closest(".layout_portfolio_contain"),a=e.querySelector(".filter_search"),s=[e.querySelector(".filter_location"),e.querySelector(".filter_stage"),e.querySelector(".filter_status")],r=e.querySelector(".cms_item_results"),c=e.querySelector(".filter_clear_text");function l(e){o.classList.contains("animating")||(o.classList.add("animating"),function(e){if(e){o.style.height="auto",o.style.width="auto",o.style.opacity="1";let e=o.offsetHeight+"px",t=o.offsetWidth+"px";o.style.height="0",o.style.width="0",gsap.to(o,{duration:.3,height:e,width:t,opacity:1,visibility:"visible",ease:"expo.inOut",onComplete:function(){o.style.height="auto",o.style.width="auto"}}),function(){let e=gsap.timeline();s.forEach((function(t,o){let i=.2*o;e.fromTo(t,{opacity:0,y:20},{duration:.4,opacity:1,y:0,ease:"expo.inOut"},i);let n=t.querySelector(".filter_head_text"),a=t.querySelector(".filter_list_wrapper"),s=a.querySelector(".filter_list_contain").querySelectorAll(".filter_list_item");e.fromTo(n,{opacity:0,y:20},{duration:.4,opacity:1,y:0,ease:"expo.inOut"},i+.1),e.fromTo(a,{opacity:0,y:20},{duration:.4,opacity:1,y:0,ease:"expo.inOut"},i+.2),e.fromTo(s,{opacity:0,y:20},{duration:.4,opacity:1,y:0,stagger:.1,ease:"expo.inOut"},i+.3)})),e.fromTo(r,{opacity:0},{duration:.4,opacity:1,ease:"expo.inOut"},"+=0.3"),e.fromTo(c,{opacity:0},{duration:.4,opacity:1,ease:"expo.inOut"},"-=0.2")}()}else gsap.to(o,{duration:.3,height:0,width:0,opacity:1,visibility:"visible",ease:"expo.inOut",onComplete:function(){o.style.height="0",o.style.width="0",o.style.opacity="1"}}),gsap.to(s,{duration:.3,opacity:0,y:20,stagger:.1,ease:"expo.inOut"}),gsap.to([r,c],{duration:.2,opacity:0,ease:"expo.inOut"})}(e),e?(gsap.to(".filter_icon_line.is-top",{duration:.4,marginLeft:"10%",ease:"expo.inOut"}),gsap.to(".filter_icon_line.is-mid",{duration:.4,marginLeft:"35%",ease:"expo.inOut"}),gsap.to(".filter_icon_line.is-bottom",{duration:.4,marginLeft:"60%",ease:"expo.inOut"})):(gsap.to(".filter_icon_line.is-top",{duration:.4,marginLeft:"0%",ease:"expo.inOut"}),gsap.to(".filter_icon_line.is-mid",{duration:.4,marginLeft:"0%",ease:"expo.inOut"}),gsap.to(".filter_icon_line.is-bottom",{duration:.4,marginLeft:"0%",ease:"expo.inOut"})),setTimeout((function(){o.classList.remove("animating")}),400)),t.classList.toggle("filter-open",e)}o.style.height="0",o.style.width="0",o.style.opacity="1",o.style.overflow="hidden",o.style.border="none",o.style.visibility="hidden",i.addEventListener("click",(function(e){e.stopPropagation(),l(!t.classList.contains("filter-open"))})),i.addEventListener("mouseenter",(function(){gsap.to(".filter_link_text",{duration:.3,color:"var(--swatch--brand)",ease:"expo.inOut"}),gsap.to(".filter_icon_line.is-top",{duration:.2,y:1,ease:"expo.inOut"}),gsap.to(".filter_icon_line.is-mid",{duration:.2,y:0,ease:"expo.inOut"}),gsap.to(".filter_icon_line.is-bottom",{duration:.2,y:-1,ease:"expo.inOut"})})),i.addEventListener("mouseleave",(function(){gsap.to(".filter_link_text",{duration:.3,color:"var(--theme--text)",ease:"expo.inOut"}),gsap.to(".filter_icon_line.is-top",{duration:.2,y:0,ease:"expo.inOut"}),gsap.to(".filter_icon_line.is-mid",{duration:.2,y:0,ease:"expo.inOut"}),gsap.to(".filter_icon_line.is-bottom",{duration:.2,y:0,ease:"expo.inOut"})})),document.addEventListener("click",(function(e){e.target.closest(".layout_portfolio_filter")||l(!1)})),n.addEventListener("mouseleave",(function(){l(!1)})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&l(!1)})),a.style.position="absolute",a.style.opacity="1",a.style.visibility="visible"}))}));
