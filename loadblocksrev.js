!function(){"use strict";function t(t,e){try{const r=document.documentElement,o=getComputedStyle(r).getPropertyValue(t).trim();if(!o)return e;if(/^\d+(\.\d+)?$/.test(o)){return parseFloat(o)*(parseFloat(getComputedStyle(r).fontSize)||16)}if(o.endsWith("rem")){return parseFloat(o)*(parseFloat(getComputedStyle(r).fontSize)||16)}return o.endsWith("px")?parseFloat(o):e}catch{return e}}function e(t){if(t&&t.color)return t.color;try{const t=document.documentElement;let e=getComputedStyle(t).getPropertyValue("--theme--background").trim();if(e&&"transparent"!==e&&"rgba(0, 0, 0, 0)"!==e&&"rgba(0,0,0,0)"!==e)return e;if(e=getComputedStyle(document.body).backgroundColor,e&&"transparent"!==e&&"rgba(0, 0, 0, 0)"!==e&&"rgba(0,0,0,0)"!==e)return e}catch{}return"#0b0b0b"}function r(t){return Math.max(0,Math.min(255,t))}function o(t,e){const o=function(t){if(!t)return null;let e=(t=String(t).trim()).match(/^rgba?\(([^)]+)\)$/i);if(e){const t=e[1].split(",").map((t=>t.trim())).slice(0,3).map((t=>parseFloat(t)));if(3===t.length&&t.every((t=>Number.isFinite(t))))return{r:t[0],g:t[1],b:t[2]}}if(e=t.match(/^#([0-9a-f]{3}|[0-9a-f]{6})$/i),e){let t=e[1];3===t.length&&(t=t.split("").map((t=>t+t)).join(""));const r=parseInt(t,16);return{r:r>>16&255,g:r>>8&255,b:255&r}}return null}(t);if(!o)return t;const n=e>=0?255:0,a=Math.min(1,Math.abs(e));return`rgb(${r(Math.round((n-o.r)*a+o.r))}, ${r(Math.round((n-o.g)*a+o.g))}, ${r(Math.round((n-o.b)*a+o.b))})`}function n(){if(document.getElementById("bw-blockreveal-style"))return;const t=document.createElement("style");t.id="bw-blockreveal-style",t.textContent="\n.bw-blockreveal__grid{position:absolute;inset:0;pointer-events:none;display:grid}\n.bw-blockreveal__cell{background-color:var(--theme--background, #0b0b0b);background-image:none;opacity:1;will-change:opacity}\n",document.head.appendChild(t)}function a(t,r){if(!t)return;n();const a=(r=r||{}).px??32,l=r.min??8,s=r.max??32,i=r.baseStagger??5,c=r.fadeMs??150,u=r.burstEvery??20,m=r.burstDelay??14,d=r.holdMs??180,h=r.clusterCount??6,p=r.clusterRadius??1,y=r.blinkMs??55,g=r.blinkDuringHold??!1,b=t.querySelector(".bw-blockreveal__grid");b&&b.remove(),"static"===getComputedStyle(t).position&&(t.style.position="relative");const f=t.getBoundingClientRect(),M=Math.max(l,Math.min(s,Math.round(f.width/a))),v=Math.max(l,Math.min(s,Math.round(f.height/a))),k=document.createElement("div");k.className="bw-blockreveal__grid",k.style.zIndex=String(r.zIndex??9999),k.style.gridTemplateColumns=`repeat(${M}, 1fr)`,k.style.gridTemplateRows=`repeat(${v}, 1fr)`,t.appendChild(k);const C=M*v,S=new Array(C),w=e(r),x=r.variance??.055;for(let t=0;t<C;t++){const e=document.createElement("div");e.className="bw-blockreveal__cell",e.style.backgroundImage="none";const r=(2*Math.random()-1)*x;e.style.backgroundColor=o(w,r),S[t]=e,k.appendChild(e)}const _=Array.from({length:C},((t,e)=>e));for(let t=_.length-1;t>0;t--){const e=Math.floor(Math.random()*(t+1));[_[t],_[e]]=[_[e],_[t]]}const E=(t,e)=>t*M+e;function $(t){const{r:e,c:r}=(o=t,{r:Math.floor(o/M),c:o%M});var o;const n=[];for(let t=-p;t<=p;t++)for(let o=-p;o<=p;o++){const a=e+t,l=r+o;a<0||a>=v||l<0||l>=M||(Math.abs(t)===p||Math.abs(o)===p)&&Math.random()<.45||n.push(E(a,l))}return n}if(h>0){const t=g?40:d+20,e=g?Math.max(120,d):Math.max(180,Math.min(520,d+320));for(let r=0;r<h;r++){const r=$(_[Math.floor(Math.random()*_.length)]),o=t+Math.random()*e;setTimeout((()=>{r.forEach((t=>{const e=S[t];e&&"0"!==e.style.opacity&&(e.style.transition=`opacity ${y}ms linear`,e.style.opacity="0.25",setTimeout((()=>{e&&"0"!==e.style.opacity&&(e.style.opacity="1")}),y))}))}),o)}}_.forEach(((t,e)=>{const r=S[t];setTimeout((()=>{r&&(r.style.transition=`opacity ${c}ms ease`,r.style.opacity="0")}),d+e*i+(u&&e%u==0?m:0))}));const T=d+_.length*i+Math.ceil(_.length/u)*m+c+120;setTimeout((()=>k.remove()),T)}window.BWBlockReveal={cssVarToPx:t,blockReveal:a,blockCover:function(t,r){if(!t)return;n();const a=(r=r||{}).px??32,l=r.min??8,s=r.max??32,i=r.holdMs??220,c=r.clusterCount??6,u=r.clusterRadius??1,m=r.blinkMs??55,d=r.appearMs??140,h=r.appearFadeMs??90,p=r.appearStagger??2,y=r.cleanupAfterMs??0,g=t.querySelector(".bw-blockreveal__grid");g&&g.remove(),"static"===getComputedStyle(t).position&&(t.style.position="relative");const b=t.getBoundingClientRect(),f=Math.max(l,Math.min(s,Math.round(b.width/a))),M=Math.max(l,Math.min(s,Math.round(b.height/a))),v=document.createElement("div");v.className="bw-blockreveal__grid",v.style.zIndex=String(r.zIndex??9999),v.style.gridTemplateColumns=`repeat(${f}, 1fr)`,v.style.gridTemplateRows=`repeat(${M}, 1fr)`,t.appendChild(v);const k=f*M,C=new Array(k),S=e(r),w=r.variance??.055;for(let t=0;t<k;t++){const e=document.createElement("div");e.className="bw-blockreveal__cell",e.style.backgroundImage="none";const r=(2*Math.random()-1)*w;e.style.backgroundColor=o(S,r),e.style.opacity="0",C[t]=e,v.appendChild(e)}const x=Array.from({length:k},((t,e)=>e));for(let t=x.length-1;t>0;t--){const e=Math.floor(Math.random()*(t+1));[x[t],x[e]]=[x[e],x[t]]}x.forEach(((t,e)=>{const r=C[t],o=Math.min(d,e*p);setTimeout((()=>{r&&(r.style.transition=`opacity ${h}ms ease`,r.style.opacity="1")}),o)}));const _=(t,e)=>t*f+e;function E(t){const{r:e,c:r}=(o=t,{r:Math.floor(o/f),c:o%f});var o;const n=[];for(let t=-u;t<=u;t++)for(let o=-u;o<=u;o++){const a=e+t,l=r+o;a<0||a>=M||l<0||l>=f||(Math.abs(t)===u||Math.abs(o)===u)&&Math.random()<.45||n.push(_(a,l))}return n}const $=d+40,T=Math.max(160,i);for(let t=0;t<c;t++){const t=E(x[Math.floor(Math.random()*x.length)]),e=$+Math.random()*T;setTimeout((()=>{t.forEach((t=>{const e=C[t];e&&(e.style.transition=`opacity ${m}ms linear`,e.style.opacity="0.25",setTimeout((()=>{e&&(e.style.opacity="1")}),m))}))}),e)}return y>0&&setTimeout((()=>v.remove()),y),v},coverAndReveal:function(e){const r=(e=e||{}).slideOrContainer;if(!r)return;const o=e.containerSelector||".layout_team_visual_wrap",n=e.imgSelector||".layout_team_visual_wrap > img.image",l=r.querySelector?r.querySelector(o):null,s=r.querySelector?r.querySelector(n):null;if(!l||!s)return;"static"===getComputedStyle(l).position&&(l.style.position="relative"),s.style.transition="none",s.style.opacity="0";const i=window.matchMedia("(max-width: 768px)").matches;a(l,{px:t("--block--size",32)*(i?1.15:1),baseStagger:e.baseStagger??3,fadeMs:e.fadeMs??80,burstEvery:e.burstEvery??18,burstDelay:e.burstDelay??10,holdMs:e.holdMs??180,clusterCount:e.clusterCount??(i?4:6),clusterRadius:e.clusterRadius??1,blinkMs:e.blinkMs??45}),requestAnimationFrame((()=>{s.style.transition="opacity 90ms linear",s.style.opacity="1"}))}}}();
