document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll('[data-recaptcha-el="form-block"]').forEach((e=>{const t=e.querySelector("form"),a=e.querySelector('[data-recaptcha-el="success"]'),c=e.querySelector('[data-recaptcha-el="error"]'),o=t.querySelector('[type="submit"]'),n=e.getAttribute("data-recaptcha-loadingtext")||"Loading...",r=o.value;if("hide"===e.getAttribute("data-recaptcha-badge")){const e=document.createElement("style");e.innerHTML=".grecaptcha-badge { visibility: hidden; }",document.head.appendChild(e)}t.addEventListener("submit",(function(s){s.preventDefault(),async function(){o.value=n;try{await grecaptcha.execute("6Le_XUsqAAAAAKxtXMXAISRCGcFxUmoo5K22DRAG",{action:"submit"});let n={};new FormData(t).forEach(((e,t)=>{n[t]=e}));const s=await fetch("https://blockwall-recaptcha-v3.netlify.app/.netlify/functions/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:"testToken",formData:{test:"data"}})}),l=await s.json();o.value=r,l.formResponse&&l.formResponse.success?(a.style.display="block",c.style.display="none"):(a.style.display="none",c.style.display="block"),e.getAttribute("data-recaptcha-showconsole")}catch(e){o.value=r,console.error("Error:",e)}}()}))}))}));
