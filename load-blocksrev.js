!function(){"use strict";function t(t,e){try{const o=document.documentElement,a=getComputedStyle(o).getPropertyValue(t).trim();if(!a)return e;if(/^\d+(\.\d+)?$/.test(a)){return parseFloat(a)*(parseFloat(getComputedStyle(o).fontSize)||16)}if(a.endsWith("rem")){return parseFloat(a)*(parseFloat(getComputedStyle(o).fontSize)||16)}return a.endsWith("px")?parseFloat(a):e}catch{return e}}function e(t){if(t&&t.color)return t.color;try{const t=document.documentElement;let e=getComputedStyle(t).getPropertyValue("--theme--background").trim();if(e&&"transparent"!==e&&"rgba(0, 0, 0, 0)"!==e&&"rgba(0,0,0,0)"!==e)return e;if(e=getComputedStyle(document.body).backgroundColor,e&&"transparent"!==e&&"rgba(0, 0, 0, 0)"!==e&&"rgba(0,0,0,0)"!==e)return e}catch{}return"#0b0b0b"}function o(t){return Math.max(0,Math.min(255,t))}function a(t,e){const a=function(t){if(!t)return null;let e=(t=String(t).trim()).match(/^rgba?\(([^)]+)\)$/i);if(e){const t=e[1].split(",").map((t=>t.trim())).slice(0,3).map((t=>parseFloat(t)));if(3===t.length&&t.every((t=>Number.isFinite(t))))return{r:t[0],g:t[1],b:t[2]}}if(e=t.match(/^#([0-9a-f]{3}|[0-9a-f]{6})$/i),e){let t=e[1];3===t.length&&(t=t.split("").map((t=>t+t)).join(""));const o=parseInt(t,16);return{r:o>>16&255,g:o>>8&255,b:255&o}}return null}(t);if(!a)return t;const n=e>=0?255:0,r=Math.min(1,Math.abs(e));return`rgb(${o(Math.round((n-a.r)*r+a.r))}, ${o(Math.round((n-a.g)*r+a.g))}, ${o(Math.round((n-a.b)*r+a.b))})`}function n(){if(document.getElementById("bw-blockreveal-style"))return;const t=document.createElement("style");t.id="bw-blockreveal-style",t.textContent="\n.bw-blockreveal__grid{position:absolute;inset:0;pointer-events:none;display:grid}\n.bw-blockreveal__cell{background-color:var(--theme--background, #0b0b0b);background-image:none;opacity:1;will-change:opacity}\n",document.head.appendChild(t)}function r(t,o){if(!t)return;n();const r=(o=o||{}).px??32,l=o.min??8,s=o.max??32,i=o.baseStagger??5,c=o.fadeMs??150,u=o.burstEvery??20,m=o.burstDelay??14,d=o.holdMs??180,p=o.clusterCount??6,h=o.clusterRadius??1,y=o.blinkMs??55,g=o.blinkDuringHold??!1,b=t.querySelector(".bw-blockreveal__grid");b&&b.remove(),"static"===getComputedStyle(t).position&&(t.style.position="relative");const f=t.getBoundingClientRect(),M=Math.max(l,Math.min(s,Math.round(f.width/r))),v=Math.max(l,Math.min(s,Math.round(f.height/r))),w=document.createElement("div");w.className="bw-blockreveal__grid",w.style.zIndex=String(o.zIndex??9999),w.style.gridTemplateColumns=`repeat(${M}, 1fr)`,w.style.gridTemplateRows=`repeat(${v}, 1fr)`,t.appendChild(w);const k=M*v,C=new Array(k),S=e(o),x=o.variance??.055;for(let t=0;t<k;t++){const e=document.createElement("div");e.className="bw-blockreveal__cell",e.style.backgroundImage="none";const o=(2*Math.random()-1)*x;e.style.backgroundColor=a(S,o),C[t]=e,w.appendChild(e)}const _=Array.from({length:k},((t,e)=>e));for(let t=_.length-1;t>0;t--){const e=Math.floor(Math.random()*(t+1));[_[t],_[e]]=[_[e],_[t]]}const E=(t,e)=>t*M+e;function $(t){const{r:e,c:o}=(a=t,{r:Math.floor(a/M),c:a%M});var a;const n=[];for(let t=-h;t<=h;t++)for(let a=-h;a<=h;a++){const r=e+t,l=o+a;r<0||r>=v||l<0||l>=M||(Math.abs(t)===h||Math.abs(a)===h)&&Math.random()<.45||n.push(E(r,l))}return n}if(p>0){const t=g?40:d+20,e=g?Math.max(120,d):Math.max(180,Math.min(520,d+320));for(let o=0;o<p;o++){const o=$(_[Math.floor(Math.random()*_.length)]),a=t+Math.random()*e;setTimeout((()=>{o.forEach((t=>{const e=C[t];e&&"0"!==e.style.opacity&&(e.style.transition=`opacity ${y}ms linear`,e.style.opacity="0.25",setTimeout((()=>{e&&"0"!==e.style.opacity&&(e.style.opacity="1")}),y))}))}),a)}}if(window.gsap){const t=window.gsap.timeline({delay:d/1e3,onComplete:()=>w.remove()}),e=_.map((t=>C[t])).filter(Boolean);let o=0;e.forEach(((e,a)=>{const n=u&&a%u==0?m:0;t.to(e,{opacity:0,duration:c/1e3,ease:"power1.out"},o),o+=(i+n)/1e3}))}else{_.forEach(((t,e)=>{const o=C[t];setTimeout((()=>{o&&(o.style.transition=`opacity ${c}ms ease`,o.style.opacity="0")}),d+e*i+(u&&e%u==0?m:0))}));const t=d+_.length*i+Math.ceil(_.length/(u||1))*(m||0)+c+180;setTimeout((()=>w.remove()),t)}}window.BWBlockReveal={cssVarToPx:t,blockReveal:r,blockCover:function(t,o){if(!t)return;n();const r=(o=o||{}).px??32,l=o.min??8,s=o.max??32,i=o.holdMs??220,c=o.clusterCount??6,u=o.clusterRadius??1,m=o.blinkMs??55,d=o.appearMs??140,p=o.appearFadeMs??90,h=o.appearStagger??2,y=o.cleanupAfterMs??0,g=t.querySelector(".bw-blockreveal__grid");g&&g.remove(),"static"===getComputedStyle(t).position&&(t.style.position="relative");const b=t.getBoundingClientRect(),f=Math.max(l,Math.min(s,Math.round(b.width/r))),M=Math.max(l,Math.min(s,Math.round(b.height/r))),v=document.createElement("div");v.className="bw-blockreveal__grid",v.style.zIndex=String(o.zIndex??9999),v.style.gridTemplateColumns=`repeat(${f}, 1fr)`,v.style.gridTemplateRows=`repeat(${M}, 1fr)`,t.appendChild(v);const w=f*M,k=new Array(w),C=e(o),S=o.variance??.055;for(let t=0;t<w;t++){const e=document.createElement("div");e.className="bw-blockreveal__cell",e.style.backgroundImage="none";const o=(2*Math.random()-1)*S;e.style.backgroundColor=a(C,o),e.style.opacity="0",k[t]=e,v.appendChild(e)}const x=Array.from({length:w},((t,e)=>e));for(let t=x.length-1;t>0;t--){const e=Math.floor(Math.random()*(t+1));[x[t],x[e]]=[x[e],x[t]]}if(window.gsap){const t=x.map((t=>k[t])).filter(Boolean);window.gsap.to(t,{opacity:1,duration:p/1e3,stagger:{each:h/1e3,from:"random"},ease:"power1.out"})}else x.forEach(((t,e)=>{const o=k[t],a=Math.min(d,e*h);setTimeout((()=>{o&&(o.style.transition=`opacity ${p}ms ease`,o.style.opacity="1")}),a)}));const _=(t,e)=>t*f+e;function E(t){const{r:e,c:o}=(a=t,{r:Math.floor(a/f),c:a%f});var a;const n=[];for(let t=-u;t<=u;t++)for(let a=-u;a<=u;a++){const r=e+t,l=o+a;r<0||r>=M||l<0||l>=f||(Math.abs(t)===u||Math.abs(a)===u)&&Math.random()<.45||n.push(_(r,l))}return n}const $=d+40,T=Math.max(160,i);for(let t=0;t<c;t++){const t=E(x[Math.floor(Math.random()*x.length)]),e=$+Math.random()*T;setTimeout((()=>{t.forEach((t=>{const e=k[t];e&&(e.style.transition=`opacity ${m}ms linear`,e.style.opacity="0.25",setTimeout((()=>{e&&(e.style.opacity="1")}),m))}))}),e)}return y>0&&setTimeout((()=>v.remove()),y),v},coverAndReveal:function(e){const o=(e=e||{}).slideOrContainer;if(!o)return;const a=e.containerSelector||".layout_team_visual_wrap",n=e.imgSelector||".layout_team_visual_wrap > img.image",l=o.querySelector?o.querySelector(a):null,s=o.querySelector?o.querySelector(n):null;if(!l||!s)return;"static"===getComputedStyle(l).position&&(l.style.position="relative"),s.style.transition="none",s.style.opacity="0";const i=window.matchMedia("(max-width: 768px)").matches;r(l,{px:t("--block--size",32)*(i?1.15:1),baseStagger:e.baseStagger??3,fadeMs:e.fadeMs??80,burstEvery:e.burstEvery??18,burstDelay:e.burstDelay??10,holdMs:e.holdMs??180,clusterCount:e.clusterCount??(i?4:6),clusterRadius:e.clusterRadius??1,blinkMs:e.blinkMs??45}),requestAnimationFrame((()=>{s.style.transition="opacity 90ms linear",s.style.opacity="1"}))}}}();
