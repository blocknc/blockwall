!function(){"use strict";function t(t,e){try{const o=document.documentElement,a=getComputedStyle(o).getPropertyValue(t).trim();if(!a)return e;if(/^\d+(\.\d+)?$/.test(a)){return parseFloat(a)*(parseFloat(getComputedStyle(o).fontSize)||16)}if(a.endsWith("rem")){return parseFloat(a)*(parseFloat(getComputedStyle(o).fontSize)||16)}return a.endsWith("px")?parseFloat(a):e}catch{return e}}function e(){if(document.getElementById("bw-blockreveal-style"))return;const t=document.createElement("style");t.id="bw-blockreveal-style",t.textContent="\n.bw-blockreveal__grid{position:absolute;inset:0;pointer-events:none;display:grid}\n.bw-blockreveal__cell{background:var(--theme--gradient);opacity:1;will-change:opacity}\n",document.head.appendChild(t)}function o(t,o){if(!t)return;e();const a=(o=o||{}).px??32,n=o.min??8,r=o.max??32,l=o.baseStagger??3,s=o.fadeMs??80,i=o.burstEvery??18,c=o.burstDelay??10,u=o.holdMs??180,d=o.clusterCount??6,m=o.clusterRadius??1,h=o.blinkMs??45,y=t.querySelector(".bw-blockreveal__grid");y&&y.remove(),"static"===getComputedStyle(t).position&&(t.style.position="relative");const p=t.getBoundingClientRect(),f=Math.max(n,Math.min(r,Math.round(p.width/a))),g=Math.max(n,Math.min(r,Math.round(p.height/a))),M=document.createElement("div");M.className="bw-blockreveal__grid",M.style.zIndex=String(o.zIndex??9999),M.style.gridTemplateColumns=`repeat(${f}, 1fr)`,M.style.gridTemplateRows=`repeat(${g}, 1fr)`,t.appendChild(M);const b=f*g,v=new Array(b);for(let t=0;t<b;t++){const e=document.createElement("div");e.className="bw-blockreveal__cell",v[t]=e,M.appendChild(e)}const w=Array.from({length:b},((t,e)=>e));for(let t=w.length-1;t>0;t--){const e=Math.floor(Math.random()*(t+1));[w[t],w[e]]=[w[e],w[t]]}const C=(t,e)=>t*f+e;function _(t){const{r:e,c:o}=(a=t,{r:Math.floor(a/f),c:a%f});var a;const n=[];for(let t=-m;t<=m;t++)for(let a=-m;a<=m;a++){const r=e+t,l=o+a;r<0||r>=g||l<0||l>=f||(Math.abs(t)===m||Math.abs(a)===m)&&Math.random()<.45||n.push(C(r,l))}return n}const S=Math.max(120,u);for(let t=0;t<d;t++){const t=_(w[Math.floor(Math.random()*w.length)]),e=40+Math.random()*S;setTimeout((()=>{t.forEach((t=>{const e=v[t];e&&"0"!==e.style.opacity&&(e.style.transition=`opacity ${h}ms linear`,e.style.opacity="0.25",setTimeout((()=>{e&&"0"!==e.style.opacity&&(e.style.opacity="1")}),h))}))}),e)}w.forEach(((t,e)=>{const o=v[t];setTimeout((()=>{o&&(o.style.transition=`opacity ${s}ms ease`,o.style.opacity="0")}),u+e*l+(i&&e%i==0?c:0))}));const x=u+w.length*l+Math.ceil(w.length/i)*c+s+120;setTimeout((()=>M.remove()),x)}window.BWBlockReveal={cssVarToPx:t,blockReveal:o,blockCover:function(t,o){if(!t)return;e();const a=(o=o||{}).px??32,n=o.min??8,r=o.max??32,l=o.holdMs??220,s=o.clusterCount??6,i=o.clusterRadius??1,c=o.blinkMs??45,u=o.cleanupAfterMs??0,d=t.querySelector(".bw-blockreveal__grid");d&&d.remove(),"static"===getComputedStyle(t).position&&(t.style.position="relative");const m=t.getBoundingClientRect(),h=Math.max(n,Math.min(r,Math.round(m.width/a))),y=Math.max(n,Math.min(r,Math.round(m.height/a))),p=document.createElement("div");p.className="bw-blockreveal__grid",p.style.zIndex=String(o.zIndex??9999),p.style.gridTemplateColumns=`repeat(${h}, 1fr)`,p.style.gridTemplateRows=`repeat(${y}, 1fr)`,t.appendChild(p);const f=h*y,g=new Array(f);for(let t=0;t<f;t++){const e=document.createElement("div");e.className="bw-blockreveal__cell",g[t]=e,p.appendChild(e)}const M=Array.from({length:f},((t,e)=>e));for(let t=M.length-1;t>0;t--){const e=Math.floor(Math.random()*(t+1));[M[t],M[e]]=[M[e],M[t]]}const b=(t,e)=>t*h+e;function v(t){const{r:e,c:o}=(a=t,{r:Math.floor(a/h),c:a%h});var a;const n=[];for(let t=-i;t<=i;t++)for(let a=-i;a<=i;a++){const r=e+t,l=o+a;r<0||r>=y||l<0||l>=h||(Math.abs(t)===i||Math.abs(a)===i)&&Math.random()<.45||n.push(b(r,l))}return n}const w=Math.max(120,l);for(let t=0;t<s;t++){const t=v(M[Math.floor(Math.random()*M.length)]),e=30+Math.random()*w;setTimeout((()=>{t.forEach((t=>{const e=g[t];e&&(e.style.transition=`opacity ${c}ms linear`,e.style.opacity="0.25",setTimeout((()=>{e&&(e.style.opacity="1")}),c))}))}),e)}return u>0&&setTimeout((()=>p.remove()),u),p},coverAndReveal:function(e){const a=(e=e||{}).slideOrContainer;if(!a)return;const n=e.containerSelector||".layout_team_visual_wrap",r=e.imgSelector||".layout_team_visual_wrap > img.image",l=a.querySelector?a.querySelector(n):null,s=a.querySelector?a.querySelector(r):null;if(!l||!s)return;"static"===getComputedStyle(l).position&&(l.style.position="relative"),s.style.transition="none",s.style.opacity="0";const i=window.matchMedia("(max-width: 768px)").matches;o(l,{px:t("--block--size",32)*(i?1.15:1),baseStagger:e.baseStagger??3,fadeMs:e.fadeMs??80,burstEvery:e.burstEvery??18,burstDelay:e.burstDelay??10,holdMs:e.holdMs??180,clusterCount:e.clusterCount??(i?4:6),clusterRadius:e.clusterRadius??1,blinkMs:e.blinkMs??45}),requestAnimationFrame((()=>{s.style.transition="opacity 90ms linear",s.style.opacity="1"}))}}}();
