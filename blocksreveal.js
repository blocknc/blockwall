!function(){"use strict";function t(t,e){try{const o=document.documentElement,a=getComputedStyle(o).getPropertyValue(t).trim();if(!a)return e;if(/^\d+(\.\d+)?$/.test(a)){return parseFloat(a)*(parseFloat(getComputedStyle(o).fontSize)||16)}if(a.endsWith("rem")){return parseFloat(a)*(parseFloat(getComputedStyle(o).fontSize)||16)}return a.endsWith("px")?parseFloat(a):e}catch{return e}}function e(){if(document.getElementById("bw-blockreveal-style"))return;const t=document.createElement("style");t.id="bw-blockreveal-style",t.textContent="\n.bw-blockreveal__grid{position:absolute;inset:0;pointer-events:none;display:grid}\n.bw-blockreveal__cell{background:var(--theme--background);opacity:1;will-change:opacity}\n",document.head.appendChild(t)}function o(t,o){if(!t)return;e();const a=(o=o||{}).px??32,n=o.min??8,r=o.max??32,l=o.baseStagger??5,s=o.fadeMs??150,i=o.burstEvery??20,c=o.burstDelay??14,u=o.holdMs??180,d=o.clusterCount??6,m=o.clusterRadius??1,y=o.blinkMs??55,h=o.blinkDuringHold??!1,p=t.querySelector(".bw-blockreveal__grid");p&&p.remove(),"static"===getComputedStyle(t).position&&(t.style.position="relative");const g=t.getBoundingClientRect(),M=Math.max(n,Math.min(r,Math.round(g.width/a))),b=Math.max(n,Math.min(r,Math.round(g.height/a))),f=document.createElement("div");f.className="bw-blockreveal__grid",f.style.zIndex=String(o.zIndex??9999),f.style.gridTemplateColumns=`repeat(${M}, 1fr)`,f.style.gridTemplateRows=`repeat(${b}, 1fr)`,t.appendChild(f);const v=M*b,k=new Array(v);for(let t=0;t<v;t++){const e=document.createElement("div");e.className="bw-blockreveal__cell",e.style.backgroundImage="none",e.style.backgroundColor="var(--theme--background)",k[t]=e,f.appendChild(e)}const w=Array.from({length:v},((t,e)=>e));for(let t=w.length-1;t>0;t--){const e=Math.floor(Math.random()*(t+1));[w[t],w[e]]=[w[e],w[t]]}const C=(t,e)=>t*M+e;function S(t){const{r:e,c:o}=(a=t,{r:Math.floor(a/M),c:a%M});var a;const n=[];for(let t=-m;t<=m;t++)for(let a=-m;a<=m;a++){const r=e+t,l=o+a;r<0||r>=b||l<0||l>=M||(Math.abs(t)===m||Math.abs(a)===m)&&Math.random()<.45||n.push(C(r,l))}return n}if(d>0){const t=h?40:u+20,e=h?Math.max(120,u):Math.max(180,Math.min(520,u+320));for(let o=0;o<d;o++){const o=S(w[Math.floor(Math.random()*w.length)]),a=t+Math.random()*e;setTimeout((()=>{o.forEach((t=>{const e=k[t];e&&"0"!==e.style.opacity&&(e.style.transition=`opacity ${y}ms linear`,e.style.opacity="0.25",setTimeout((()=>{e&&"0"!==e.style.opacity&&(e.style.opacity="1")}),y))}))}),a)}}w.forEach(((t,e)=>{const o=k[t];setTimeout((()=>{o&&(o.style.transition=`opacity ${s}ms ease`,o.style.opacity="0")}),u+e*l+(i&&e%i==0?c:0))}));const _=u+w.length*l+Math.ceil(w.length/i)*c+s+120;setTimeout((()=>f.remove()),_)}window.BWBlockReveal={cssVarToPx:t,blockReveal:o,blockCover:function(t,o){if(!t)return;e();const a=(o=o||{}).px??32,n=o.min??8,r=o.max??32,l=o.holdMs??220,s=o.clusterCount??6,i=o.clusterRadius??1,c=o.blinkMs??55,u=o.appearMs??140,d=o.appearFadeMs??90,m=o.appearStagger??2,y=o.cleanupAfterMs??0,h=t.querySelector(".bw-blockreveal__grid");h&&h.remove(),"static"===getComputedStyle(t).position&&(t.style.position="relative");const p=t.getBoundingClientRect(),g=Math.max(n,Math.min(r,Math.round(p.width/a))),M=Math.max(n,Math.min(r,Math.round(p.height/a))),b=document.createElement("div");b.className="bw-blockreveal__grid",b.style.zIndex=String(o.zIndex??9999),b.style.gridTemplateColumns=`repeat(${g}, 1fr)`,b.style.gridTemplateRows=`repeat(${M}, 1fr)`,t.appendChild(b);const f=g*M,v=new Array(f);for(let t=0;t<f;t++){const e=document.createElement("div");e.className="bw-blockreveal__cell",e.style.backgroundImage="none",e.style.backgroundColor="var(--theme--background)",e.style.opacity="0",v[t]=e,b.appendChild(e)}const k=Array.from({length:f},((t,e)=>e));for(let t=k.length-1;t>0;t--){const e=Math.floor(Math.random()*(t+1));[k[t],k[e]]=[k[e],k[t]]}k.forEach(((t,e)=>{const o=v[t],a=Math.min(u,e*m);setTimeout((()=>{o&&(o.style.transition=`opacity ${d}ms ease`,o.style.opacity="1")}),a)}));const w=(t,e)=>t*g+e;function C(t){const{r:e,c:o}=(a=t,{r:Math.floor(a/g),c:a%g});var a;const n=[];for(let t=-i;t<=i;t++)for(let a=-i;a<=i;a++){const r=e+t,l=o+a;r<0||r>=M||l<0||l>=g||(Math.abs(t)===i||Math.abs(a)===i)&&Math.random()<.45||n.push(w(r,l))}return n}const S=u+40,_=Math.max(160,l);for(let t=0;t<s;t++){const t=C(k[Math.floor(Math.random()*k.length)]),e=S+Math.random()*_;setTimeout((()=>{t.forEach((t=>{const e=v[t];e&&(e.style.transition=`opacity ${c}ms linear`,e.style.opacity="0.25",setTimeout((()=>{e&&(e.style.opacity="1")}),c))}))}),e)}return y>0&&setTimeout((()=>b.remove()),y),b},coverAndReveal:function(e){const a=(e=e||{}).slideOrContainer;if(!a)return;const n=e.containerSelector||".layout_team_visual_wrap",r=e.imgSelector||".layout_team_visual_wrap > img.image",l=a.querySelector?a.querySelector(n):null,s=a.querySelector?a.querySelector(r):null;if(!l||!s)return;"static"===getComputedStyle(l).position&&(l.style.position="relative"),s.style.transition="none",s.style.opacity="0";const i=window.matchMedia("(max-width: 768px)").matches;o(l,{px:t("--block--size",32)*(i?1.15:1),baseStagger:e.baseStagger??3,fadeMs:e.fadeMs??80,burstEvery:e.burstEvery??18,burstDelay:e.burstDelay??10,holdMs:e.holdMs??180,clusterCount:e.clusterCount??(i?4:6),clusterRadius:e.clusterRadius??1,blinkMs:e.blinkMs??45}),requestAnimationFrame((()=>{s.style.transition="opacity 90ms linear",s.style.opacity="1"}))}}}();
