!function(){"use strict";function t(t,e){try{const o=document.documentElement,a=getComputedStyle(o).getPropertyValue(t).trim();if(!a)return e;if(/^\d+(\.\d+)?$/.test(a)){return parseFloat(a)*(parseFloat(getComputedStyle(o).fontSize)||16)}if(a.endsWith("rem")){return parseFloat(a)*(parseFloat(getComputedStyle(o).fontSize)||16)}return a.endsWith("px")?parseFloat(a):e}catch{return e}}function e(t,e){if(!t)return;!function(){if(document.getElementById("bw-blockreveal-style"))return;const t=document.createElement("style");t.id="bw-blockreveal-style",t.textContent="\n.bw-blockreveal__grid{position:absolute;inset:0;pointer-events:none;z-index:9999;display:grid}\n.bw-blockreveal__cell{background:var(--theme--gradient);opacity:1;will-change:opacity}\n",document.head.appendChild(t)}();const o=(e=e||{}).px??32,a=e.min??8,n=e.max??32,r=e.baseStagger??3,l=e.fadeMs??80,s=e.burstEvery??18,i=e.burstDelay??10,c=e.holdMs??180,u=e.clusterCount??6,d=e.clusterRadius??1,m=e.blinkMs??45,y=t.querySelector(".bw-blockreveal__grid");y&&y.remove(),"static"===getComputedStyle(t).position&&(t.style.position="relative");const p=t.getBoundingClientRect(),h=Math.max(a,Math.min(n,Math.round(p.width/o))),g=Math.max(a,Math.min(n,Math.round(p.height/o))),b=document.createElement("div");b.className="bw-blockreveal__grid",b.style.gridTemplateColumns=`repeat(${h}, 1fr)`,b.style.gridTemplateRows=`repeat(${g}, 1fr)`,t.appendChild(b);const f=h*g,M=new Array(f);for(let t=0;t<f;t++){const e=document.createElement("div");e.className="bw-blockreveal__cell",M[t]=e,b.appendChild(e)}const v=Array.from({length:f},((t,e)=>e));for(let t=v.length-1;t>0;t--){const e=Math.floor(Math.random()*(t+1));[v[t],v[e]]=[v[e],v[t]]}const w=(t,e)=>t*h+e;function S(t){const{r:e,c:o}=(a=t,{r:Math.floor(a/h),c:a%h});var a;const n=[];for(let t=-d;t<=d;t++)for(let a=-d;a<=d;a++){const r=e+t,l=o+a;r<0||r>=g||l<0||l>=h||(Math.abs(t)===d||Math.abs(a)===d)&&Math.random()<.45||n.push(w(r,l))}return n}const _=Math.max(120,c);for(let t=0;t<u;t++){const t=S(v[Math.floor(Math.random()*v.length)]),e=40+Math.random()*_;setTimeout((()=>{t.forEach((t=>{const e=M[t];e&&"0"!==e.style.opacity&&(e.style.transition=`opacity ${m}ms linear`,e.style.opacity="0.25",setTimeout((()=>{e&&"0"!==e.style.opacity&&(e.style.opacity="1")}),m))}))}),e)}v.forEach(((t,e)=>{const o=M[t];setTimeout((()=>{o&&(o.style.transition=`opacity ${l}ms ease`,o.style.opacity="0")}),c+e*r+(s&&e%s==0?i:0))}));const C=c+v.length*r+Math.ceil(v.length/s)*i+l+120;setTimeout((()=>b.remove()),C)}window.BWBlockReveal={cssVarToPx:t,blockReveal:e,coverAndReveal:function(o){const a=(o=o||{}).slideOrContainer;if(!a)return;const n=o.containerSelector||".layout_team_visual_wrap",r=o.imgSelector||".layout_team_visual_wrap > img.image",l=a.querySelector?a.querySelector(n):null,s=a.querySelector?a.querySelector(r):null;if(!l||!s)return;"static"===getComputedStyle(l).position&&(l.style.position="relative"),s.style.transition="none",s.style.opacity="0";const i=window.matchMedia("(max-width: 768px)").matches;e(l,{px:t("--block--size",32)*(i?1.15:1),baseStagger:o.baseStagger??3,fadeMs:o.fadeMs??80,burstEvery:o.burstEvery??18,burstDelay:o.burstDelay??10,holdMs:o.holdMs??180,clusterCount:o.clusterCount??(i?4:6),clusterRadius:o.clusterRadius??1,blinkMs:o.blinkMs??45}),requestAnimationFrame((()=>{s.style.transition="opacity 90ms linear",s.style.opacity="1"}))}}}();
